<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css" type="text/css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <title>Anico | Signup</title>
</head>

<body>

    <header>
        <section id="company">Anico</section>
    </header>

    <main>
        <div id="card">

            <h1>Sign Up</h1>
            <section id="description">Enter your details below</section>
            <form id="form">
                <div>
                    <input type="email" placeholder="Enter email" id="email" required>
                </div>

                <div>
                    <input type="password" placeholder="Enter password" required id="psw">
                </div>

                <div>
                    <button id="signUp">Sign Up</buttom>
                </div>
            </form>

        </div>
    </main>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-auth.js"></script>
    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyCPKru3mfkGPmPgHyQm-TARLW76QsO1CRw",
            authDomain: "login-468fd.firebaseapp.com",
            projectId: "login-468fd",
            storageBucket: "login-468fd.appspot.com",
            messagingSenderId: "401960497322",
            appId: "1:401960497322:web:dc1a1d029d394945f820d3"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        //getting textfields and elements
        const txtEmail = document.getElementById("email");
        const txtPsw = document.getElementById("psw");
        const btnSignUp = document.getElementById("signUp");

        //text-field variables
        let email, psw;

        //update text fields on input
        txtEmail.oninput = () => {
            email = txtEmail.value.trim();
        }

        txtPsw.oninput = () => {
            psw = txtPsw.value.trim();
        }

        document.getElementById("form").addEventListener("submit", (event) => {
            event.preventDefault();
        })

        btnSignUp.addEventListener("click", () => {
            firebase.auth().createUserWithEmailAndPassword(email, psw)
                .then((userCredential) => {
                    // Signed in 
                    var user = userCredential.user;
                    window.location.href = "loggedin.html";
                    // ...
                })
                .catch((error) => {
                    console.error(error.code, error.message);
                });
        })
    </script>
</body>

</html>